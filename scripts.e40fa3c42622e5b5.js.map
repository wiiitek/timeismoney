{"version":3,"mappings":"AAEA,iCACAA,QAEAC,gBACAA,iBAEAC,gCAOA,QAHAC,EACAC,EAHAC,gBACAC,oBAIAC,IAAiBA,IAAcA,KAC/BN,wBAEAG,iCACAI,gBACAN,iBAEA,YAAkBO,IAAiBA,IACnCN,4BACAF,yBACAG,gCAMAM,0EAKAA,yCAGA,QAFAR,OAEAF,2BAA2CA,IAAOA,KAClD,YACAW,6BACAT,sBACI,wBAHJ,CAIGF,IAOHU,8CACAR,4BAGA,QAFAF,OAEAK,2BAA4CA,IAAQA,KACpDH,gCAEA,sCAA+CC,IAAOA,KACtD,cACAQ,6BACA,2BACAX,8BACK,8BAJL,CAKIK,OAYJK,iCACAT,6CACAA,iCAEAA,4CACAA,qCACAA,wCAEAA,gDACAA,kCACAA,2CAGAA,yCACAA,+BACAA,qCAEAA,6CACAA,+BACAA,qCAGAA,0CACAA,4BACAA,sCAEAA,6CACAA,uCACAA,sCAEAA,iDACAA,mCAEAA,+FACAA,+HAEAA,6CAGAA,cACAA,oBACAA,mBAIAS,oCAKAA,sDACA,sBAMAA,kDACA,2BAEA,WACAT,6CAAoDD,WAAc,sCAMlEU,qDACAT,+CAEAA,kCACAA,0DAMAS,iDACA,IAIAP,EAJAD,OACAF,6CACAK,sBACAC,0BAIAL,0DACAE,6CAEAF,8BACAI,kBAEAJ,0BAEAU,6BACAL,gIACAA,uEACE,GAGFK,6BACAT,2BAEAG,eACAA,gBACAC,eAEAA,iIACAA,uEACEI,mCAGFC,6BACAT,0BACAG,iBAEAA,aACAA,WACAC,SACEI,iCAGFT,6BACAW,qCACAX","names":["n","this","e","s","a","i","t","o","className","l","DepartureBoard","window","clearInterval"],"sources":["src/assets/libs/departure-board/js/departure-board.js"],"sourcesContent":["\n\nvar DepartureBoard = function (element, options) {\n\toptions = options || {};\n\n\tthis._element = element;\n\tthis._letters = [];\n\n\telement.className += ' departure-board';\n\n\tvar rowCount = options.rowCount || 1,\n\t\tletterCount = options.letterCount || 25,\n\t\tletter,\n\t\trowElement;\n\n\tfor (var r = 0; r < rowCount; r++) {\n\t\tthis._letters.push ([]);\n\n\t\trowElement = document.createElement ('div');\n\t\trowElement.className = 'row';\n\t\telement.appendChild (rowElement);\n\n\t\tfor (var l = 0; l < letterCount; l++) {\n\t\t\tletter = new DepartureBoard.Letter ();\n\t\t\tthis._letters[r].push (letter);\n\t\t\trowElement.appendChild (letter.getElement ());\n\t\t}\n\t}\n};\n\n\nDepartureBoard.LETTERS = \" ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.,':()&!?+-\";\n\n\n\n\nDepartureBoard.prototype.spin = function () {\n\tvar me = this;\n\n\tfor (var i = 0, l = this._letters.length; i < l; i++) {\n\t\t(function (i) {\n\t\t\twindow.setTimeout (function () {\n\t\t\t\tme._letters[i].spin ();\n\t\t\t}, 20 * i + Math.random () * 400);\n\t\t})(i);\n\t}\n};\n\n\n\n\nDepartureBoard.prototype.setValue = function (value) {\n\tif (!(value instanceof Array)) value = [value];\n\tvar me = this;\n\n\tfor (var r = 0, rl = this._letters.length; r < rl; r++) {\n\t\tvalue[r] = value[r]? value[r].toUpperCase () : '';\n\n\t\tfor (var i = 0, l = this._letters[r].length; i < l; i++) {\n\t\t\t(function (r, i) {\n\t\t\t\twindow.setTimeout (function () {\n\t\t\t\t\tvar letterValue = value[r].substr (i, 1) || '';\n\t\t\t\t\tme._letters[r][i].setValue (letterValue);\n\t\t\t\t}, 2000 * r + 25 * i + Math.random () * 400);\n\t\t\t})(r, i);\n\t\t}\n\t}\n};\n\n\n\n\n\n\n\n\nDepartureBoard.Letter = function () {\n\tthis._element = document.createElement ('span');\n\tthis._element.className = 'letter';\n\n\tthis._bottom = document.createElement ('span');\n\tthis._bottom.className = 'flap bottom';\n\tthis._element.appendChild (this._bottom);\n\n\tthis._bottomText = document.createElement ('span');\n\tthis._bottomText.className = 'text';\n\tthis._bottom.appendChild (this._bottomText);\n\n\n\tthis._top = document.createElement ('span');\n\tthis._top.className = 'flap top';\n\tthis._element.appendChild (this._top);\n\n\tthis._topText = document.createElement ('span');\n\tthis._topText.className = 'text';\n\tthis._top.appendChild (this._topText);\n\n\n\tthis._fold = document.createElement ('span');\n\tthis._fold.className = 'fold';\n\tthis._element.appendChild (this._fold);\n\n\tthis._falling = document.createElement ('span');\n\tthis._falling.className = 'flap falling';\n\tthis._fold.appendChild (this._falling);\n\n\tthis._fallingText = document.createElement ('span');\n\tthis._fallingText.className = 'text';\n\n\tthis._fallingText.style.WebkitTransitionDuration = this._fallingText.style.MozTransitionDuration =\n\t\tthis._fallingText.style.OTransitionDuration = this._fallingText.style.transitionDuration = DepartureBoard.Letter.DROP_TIME * 0.5 + 'ms';\n\n\tthis._falling.appendChild (this._fallingText);\n\n\n\tthis._index = 0;\n\tthis._interval = null;\n\tthis._stopAt = null;\n};\n\n\nDepartureBoard.Letter.DROP_TIME = 100;\n\n\n\n\nDepartureBoard.Letter.prototype.getElement = function () {\n\treturn this._element;\n};\n\n\n\n\nDepartureBoard.Letter.prototype.spin = function (clear) {\n\tif (clear !== false) this._stopAt = null;\n\n\tvar me = this;\n\tthis._interval = window.setInterval (function () { me._tick (); }, DepartureBoard.Letter.DROP_TIME * 1.1);\n};\n\n\n\n\nDepartureBoard.Letter.prototype.setValue = function (value) {\n\tthis._stopAt = DepartureBoard.LETTERS.indexOf (value);\n\n\tif (this._stopAt < 0) this._stopAt = 0;\n\tif (!this._interval && this._index != this._stopAt) this.spin (false);\n};\n\n\n\n\nDepartureBoard.Letter.prototype._tick = function () {\n\tvar me = this,\n\t\toldValue = DepartureBoard.LETTERS.charAt (this._index),\n\t\tfallingStyle = this._falling.style,\n\t\tfallingTextStyle = this._fallingText.style,\n\t\tnewValue;\n\n\n\tthis._index = (this._index + 1) % DepartureBoard.LETTERS.length;\n\tnewValue = DepartureBoard.LETTERS.charAt (this._index);\n\n\tthis._fallingText.innerHTML = oldValue;\n\tfallingStyle.display = 'block';\n\n\tthis._topText.innerHTML = newValue;\n\n\twindow.setTimeout (function () {\n\t\tfallingTextStyle.WebkitTransitionTimingFunction = fallingTextStyle.MozTransitionTimingFunction = fallingTextStyle.OTransitionTimingFunction = fallingTextStyle.transitionTimingFunction = 'ease-in';\n\t\tfallingTextStyle.WebkitTransform = fallingTextStyle.MozTransform = fallingTextStyle.OTransform = fallingTextStyle.transform = 'scaleY(0)';\n\t}, 1);\n\n\n\twindow.setTimeout (function () {\n\t\tme._fallingText.innerHTML = newValue;\n\n\t\tfallingStyle.top = '-.03em';\n\t\tfallingStyle.bottom = 'auto';\n\t\tfallingTextStyle.top = '-.65em';\n\n\t\tfallingTextStyle.WebkitTransitionTimingFunction = fallingTextStyle.MozTransitionTimingFunction = fallingTextStyle.OTransitionTimingFunction = fallingTextStyle.transitionTimingFunction = 'ease-out';\n\t\tfallingTextStyle.WebkitTransform = fallingTextStyle.MozTransform = fallingTextStyle.OTransform = fallingTextStyle.transform = 'scaleY(1)';\n\t}, DepartureBoard.Letter.DROP_TIME / 2);\n\n\n\twindow.setTimeout (function () {\n\t\tme._bottomText.innerHTML = newValue;\n\t\tfallingStyle.display = 'none';\n\n\t\tfallingStyle.top = 'auto';\n\t\tfallingStyle.bottom = 0;\n\t\tfallingTextStyle.top = 0;\n\t}, DepartureBoard.Letter.DROP_TIME);\n\n\n\tif (this._index === this._stopAt) {\n\t\tclearInterval (this._interval);\n\t\tdelete this._interval;\n\t}\n};\n\n"],"sourceRoot":"webpack:///","file":"scripts.e40fa3c42622e5b5.js"}
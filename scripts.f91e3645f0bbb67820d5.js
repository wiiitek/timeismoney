var DepartureBoard=function(t,e){e=e||{},this._element=t,this._letters=[],t.className+=" departure-board";for(var i,n,o=e.rowCount||1,a=e.letterCount||25,r=0;r<o;r++){this._letters.push([]),(n=document.createElement("div")).className="row",t.appendChild(n);for(var s=0;s<a;s++)i=new DepartureBoard.Letter,this._letters[r].push(i),n.appendChild(i.getElement())}};DepartureBoard.LETTERS=" ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.,':()&!?+-",DepartureBoard.prototype.spin=function(){for(var t=this,e=0,i=this._letters.length;e<i;e++)!function(e){window.setTimeout(function(){t._letters[e].spin()},20*e+400*Math.random())}(e)},DepartureBoard.prototype.setValue=function(t){t instanceof Array||(t=[t]);for(var e=this,i=0,n=this._letters.length;i<n;i++){t[i]=t[i]?t[i].toUpperCase():"";for(var o=0,a=this._letters[i].length;o<a;o++)!function(i,n){window.setTimeout(function(){var o=t[i].substr(n,1)||"";e._letters[i][n].setValue(o)},2e3*i+25*n+400*Math.random())}(i,o)}},DepartureBoard.Letter=function(){this._element=document.createElement("span"),this._element.className="letter",this._bottom=document.createElement("span"),this._bottom.className="flap bottom",this._element.appendChild(this._bottom),this._bottomText=document.createElement("span"),this._bottomText.className="text",this._bottom.appendChild(this._bottomText),this._top=document.createElement("span"),this._top.className="flap top",this._element.appendChild(this._top),this._topText=document.createElement("span"),this._topText.className="text",this._top.appendChild(this._topText),this._fold=document.createElement("span"),this._fold.className="fold",this._element.appendChild(this._fold),this._falling=document.createElement("span"),this._falling.className="flap falling",this._fold.appendChild(this._falling),this._fallingText=document.createElement("span"),this._fallingText.className="text",this._fallingText.style.WebkitTransitionDuration=this._fallingText.style.MozTransitionDuration=this._fallingText.style.OTransitionDuration=this._fallingText.style.transitionDuration=.5*DepartureBoard.Letter.DROP_TIME+"ms",this._falling.appendChild(this._fallingText),this._index=0,this._interval=null,this._stopAt=null},DepartureBoard.Letter.DROP_TIME=100,DepartureBoard.Letter.prototype.getElement=function(){return this._element},DepartureBoard.Letter.prototype.spin=function(t){!1!==t&&(this._stopAt=null);var e=this;this._interval=window.setInterval(function(){e._tick()},1.1*DepartureBoard.Letter.DROP_TIME)},DepartureBoard.Letter.prototype.setValue=function(t){this._stopAt=DepartureBoard.LETTERS.indexOf(t),this._stopAt<0&&(this._stopAt=0),this._interval||this._index==this._stopAt||this.spin(!1)},DepartureBoard.Letter.prototype._tick=function(){var t,e=this,i=DepartureBoard.LETTERS.charAt(this._index),n=this._falling.style,o=this._fallingText.style;this._index=(this._index+1)%DepartureBoard.LETTERS.length,t=DepartureBoard.LETTERS.charAt(this._index),this._fallingText.innerHTML=i,n.display="block",this._topText.innerHTML=t,window.setTimeout(function(){o.WebkitTransitionTimingFunction=o.MozTransitionTimingFunction=o.OTransitionTimingFunction=o.transitionTimingFunction="ease-in",o.WebkitTransform=o.MozTransform=o.OTransform=o.transform="scaleY(0)"},1),window.setTimeout(function(){e._fallingText.innerHTML=t,n.top="-.03em",n.bottom="auto",o.top="-.65em",o.WebkitTransitionTimingFunction=o.MozTransitionTimingFunction=o.OTransitionTimingFunction=o.transitionTimingFunction="ease-out",o.WebkitTransform=o.MozTransform=o.OTransform=o.transform="scaleY(1)"},DepartureBoard.Letter.DROP_TIME/2),window.setTimeout(function(){e._bottomText.innerHTML=t,n.display="none",n.top="auto",n.bottom=0,o.top=0},DepartureBoard.Letter.DROP_TIME),this._index===this._stopAt&&(clearInterval(this._interval),delete this._interval)};
//# sourceMappingURL=scripts.f91e3645f0bbb67820d5.js.map
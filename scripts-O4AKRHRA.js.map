{
  "version": 3,
  "sources": ["angular:script/global:scripts.js"],
  "sourcesContent": ["\n\nvar DepartureBoard = function (element, options) {\n\toptions = options || {};\n\n\tthis._element = element;\n\tthis._letters = [];\n\n\telement.className += ' departure-board';\n\n\tvar rowCount = options.rowCount || 1,\n\t\tletterCount = options.letterCount || 25,\n\t\tletter,\n\t\trowElement;\n\n\tfor (var r = 0; r < rowCount; r++) {\n\t\tthis._letters.push ([]);\n\n\t\trowElement = document.createElement ('div');\n\t\trowElement.className = 'row';\n\t\telement.appendChild (rowElement);\n\n\t\tfor (var l = 0; l < letterCount; l++) {\n\t\t\tletter = new DepartureBoard.Letter ();\n\t\t\tthis._letters[r].push (letter);\n\t\t\trowElement.appendChild (letter.getElement ());\n\t\t}\n\t}\n};\n\n\nDepartureBoard.LETTERS = \" ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.,':()&!?+-\";\n\n\n\n\nDepartureBoard.prototype.spin = function () {\n\tvar me = this;\n\n\tfor (var i = 0, l = this._letters.length; i < l; i++) {\n\t\t(function (i) {\n\t\t\twindow.setTimeout (function () {\n\t\t\t\tme._letters[i].spin ();\n\t\t\t}, 20 * i + Math.random () * 400);\n\t\t})(i);\n\t}\n};\n\n\n\n\nDepartureBoard.prototype.setValue = function (value) {\n\tif (!(value instanceof Array)) value = [value];\n\tvar me = this;\n\n\tfor (var r = 0, rl = this._letters.length; r < rl; r++) {\n\t\tvalue[r] = value[r]? value[r].toUpperCase () : '';\n\n\t\tfor (var i = 0, l = this._letters[r].length; i < l; i++) {\n\t\t\t(function (r, i) {\n\t\t\t\twindow.setTimeout (function () {\n\t\t\t\t\tvar letterValue = value[r].substr (i, 1) || '';\n\t\t\t\t\tme._letters[r][i].setValue (letterValue);\n\t\t\t\t}, 2000 * r + 25 * i + Math.random () * 400);\n\t\t\t})(r, i);\n\t\t}\n\t}\n};\n\n\n\n\n\n\n\n\nDepartureBoard.Letter = function () {\n\tthis._element = document.createElement ('span');\n\tthis._element.className = 'letter';\n\n\tthis._bottom = document.createElement ('span');\n\tthis._bottom.className = 'flap bottom';\n\tthis._element.appendChild (this._bottom);\n\n\tthis._bottomText = document.createElement ('span');\n\tthis._bottomText.className = 'text';\n\tthis._bottom.appendChild (this._bottomText);\n\n\n\tthis._top = document.createElement ('span');\n\tthis._top.className = 'flap top';\n\tthis._element.appendChild (this._top);\n\n\tthis._topText = document.createElement ('span');\n\tthis._topText.className = 'text';\n\tthis._top.appendChild (this._topText);\n\n\n\tthis._fold = document.createElement ('span');\n\tthis._fold.className = 'fold';\n\tthis._element.appendChild (this._fold);\n\n\tthis._falling = document.createElement ('span');\n\tthis._falling.className = 'flap falling';\n\tthis._fold.appendChild (this._falling);\n\n\tthis._fallingText = document.createElement ('span');\n\tthis._fallingText.className = 'text';\n\n\tthis._fallingText.style.WebkitTransitionDuration = this._fallingText.style.MozTransitionDuration =\n\t\tthis._fallingText.style.OTransitionDuration = this._fallingText.style.transitionDuration = DepartureBoard.Letter.DROP_TIME * 0.5 + 'ms';\n\n\tthis._falling.appendChild (this._fallingText);\n\n\n\tthis._index = 0;\n\tthis._interval = null;\n\tthis._stopAt = null;\n};\n\n\nDepartureBoard.Letter.DROP_TIME = 100;\n\n\n\n\nDepartureBoard.Letter.prototype.getElement = function () {\n\treturn this._element;\n};\n\n\n\n\nDepartureBoard.Letter.prototype.spin = function (clear) {\n\tif (clear !== false) this._stopAt = null;\n\n\tvar me = this;\n\tthis._interval = window.setInterval (function () { me._tick (); }, DepartureBoard.Letter.DROP_TIME * 1.1);\n};\n\n\n\n\nDepartureBoard.Letter.prototype.setValue = function (value) {\n\tthis._stopAt = DepartureBoard.LETTERS.indexOf (value);\n\n\tif (this._stopAt < 0) this._stopAt = 0;\n\tif (!this._interval && this._index != this._stopAt) this.spin (false);\n};\n\n\n\n\nDepartureBoard.Letter.prototype._tick = function () {\n\tvar me = this,\n\t\toldValue = DepartureBoard.LETTERS.charAt (this._index),\n\t\tfallingStyle = this._falling.style,\n\t\tfallingTextStyle = this._fallingText.style,\n\t\tnewValue;\n\n\n\tthis._index = (this._index + 1) % DepartureBoard.LETTERS.length;\n\tnewValue = DepartureBoard.LETTERS.charAt (this._index);\n\n\tthis._fallingText.innerHTML = oldValue;\n\tfallingStyle.display = 'block';\n\n\tthis._topText.innerHTML = newValue;\n\n\twindow.setTimeout (function () {\n\t\tfallingTextStyle.WebkitTransitionTimingFunction = fallingTextStyle.MozTransitionTimingFunction = fallingTextStyle.OTransitionTimingFunction = fallingTextStyle.transitionTimingFunction = 'ease-in';\n\t\tfallingTextStyle.WebkitTransform = fallingTextStyle.MozTransform = fallingTextStyle.OTransform = fallingTextStyle.transform = 'scaleY(0)';\n\t}, 1);\n\n\n\twindow.setTimeout (function () {\n\t\tme._fallingText.innerHTML = newValue;\n\n\t\tfallingStyle.top = '-.03em';\n\t\tfallingStyle.bottom = 'auto';\n\t\tfallingTextStyle.top = '-.65em';\n\n\t\tfallingTextStyle.WebkitTransitionTimingFunction = fallingTextStyle.MozTransitionTimingFunction = fallingTextStyle.OTransitionTimingFunction = fallingTextStyle.transitionTimingFunction = 'ease-out';\n\t\tfallingTextStyle.WebkitTransform = fallingTextStyle.MozTransform = fallingTextStyle.OTransform = fallingTextStyle.transform = 'scaleY(1)';\n\t}, DepartureBoard.Letter.DROP_TIME / 2);\n\n\n\twindow.setTimeout (function () {\n\t\tme._bottomText.innerHTML = newValue;\n\t\tfallingStyle.display = 'none';\n\n\t\tfallingStyle.top = 'auto';\n\t\tfallingStyle.bottom = 0;\n\t\tfallingTextStyle.top = 0;\n\t}, DepartureBoard.Letter.DROP_TIME);\n\n\n\tif (this._index === this._stopAt) {\n\t\tclearInterval (this._interval);\n\t\tdelete this._interval;\n\t}\n};\n\n"],
  "mappings": "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",
  "names": ["element", "options", "rowCount", "letterCount", "letter", "rowElement", "r", "me", "i", "l", "value", "rl", "letterValue", "clear", "oldValue", "fallingStyle", "fallingTextStyle", "newValue"]
}
